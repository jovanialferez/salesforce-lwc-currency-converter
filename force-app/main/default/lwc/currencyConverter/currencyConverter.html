<template>
    <div class="app slds-p-around_x-large">
        <h1 class="slds-text-heading_large">Currency Converter</h1>
        <form onsubmit={handleOnFormSubmit}>
            <fieldset class="slds-form-element slds-form-element_compound">
                <div class="slds-form-element__control">
                    <div class="slds-form-element__row">
                        <div class="slds-size_1-of-3">
                            <div class="slds-form-element">
                                <label class="slds-form-element__label" for="txt-amount">Amount</label>
                                <div class="slds-form-element__control">
                                    <input type="text" id="txt-amount" class="slds-input" name="amount" value={amount} onchange={handleOnInputChange} />
                                </div>
                            </div>
                        </div>
                        <div class="slds-size_1-of-3">
                            <div class="slds-form-element">
                                <label class="slds-form-element__label" for="sel-base-currency">From</label>
                                <div class="slds-form-element__control">
                                    <div class="slds-select_container">
                                        <select class="slds-select" id="sel-base-currency" name="baseCurrency" onchange={handleOnBaseCurrencyChange}>
                                            <option value="EUR">EUR</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slds-size_1-of-3">
                            <div class="slds-form-element">
                                <label class="slds-form-element__label" for="sel-target-currency">To</label>
                                <div class="slds-form-element__control">
                                    <div class="slds-select_container">
                                        <select class="slds-select" id="sel-target-currency" name="targetCurrency" onchange={handleOnInputChange}>
                                            <template if:true={rates} for:each={rates} for:item="rate">
                                                <option key={rate.currency} value={rate.currency} selected={rate.selected}>{rate.currency}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
            <button class="slds-button slds-button_success" type="submit">Convert</button>
        </form>
        <div if:true={convertedValue} class="conversion-result slds-text-heading_large slds-m-top_large">
            <h1>{amount} {baseCurrency} = <strong>{convertedValue}</strong> {targetCurrency}</h1>
        </div>
    </div>
</template>